import{highlightSearchTerm}from"./highlight-search-term.js";document.addEventListener("DOMContentLoaded",function(){const e=e=>{const t=document.querySelector("table");if(!t)return;t.querySelectorAll("tr").forEach(e=>{e.classList.remove("unloaded")});const r="td, th";if(CSS.highlights){const o=highlightSearchTerm({search:e,selector:r});if(null==o)return;t.querySelectorAll("tr").forEach(e=>{const t=e.querySelectorAll(r);Array.from(t).every(e=>o.includes(e))&&e.classList.add("unloaded")})}else t.querySelectorAll("tr").forEach(t=>{const o=t.querySelectorAll(r);Array.from(o).map(e=>e.innerText.toLowerCase()).join(" ").includes(e)||t.classList.add("unloaded")})},t=()=>{const t=decodeURIComponent(window.location.hash.substring(1));document.getElementById("bibsearch").value=t,e(t)};let r;document.getElementById("bibsearch").addEventListener("input",function(){clearTimeout(r);const t=this.value.toLowerCase();r=setTimeout(e(t),300)}),window.addEventListener("hashchange",t),t()});